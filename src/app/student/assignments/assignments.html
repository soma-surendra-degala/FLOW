<div class="flex flex-col min-h-screen">
  <!-- Header -->
  <app-header (toggleSidebar)="sidebar.toggleSidebar()"></app-header>

  <!-- Sidebar + Main -->
  <div class="flex flex-1">
    <!-- Sidebar -->
    <app-sidebar #sidebar></app-sidebar>

    <!-- Assignments Section -->
    <main
      class="flex-1 bg-neutral-900 text-white dark:bg-white dark:text-neutral-900 p-6 transition-all duration-300"
      [ngClass]="{ 'ml-64': sidebar.isOpen && !sidebar.isMobile }"
    >
      <!-- Filter Nav -->
      <nav
        class="flex flex-wrap gap-2 border rounded-xl p-3 mb-6
               border-neutral-800 bg-neutral-950
               dark:border-gray-300 dark:bg-white"
      >
        <button
          (click)="navigate('assignments/all')"
          class="flex items-center gap-2 px-4 py-2 rounded-lg transition border border-transparent
                 hover:border-cyan-500 hover:text-cyan-400
                 dark:hover:border-blue-500 dark:hover:text-blue-600"
        >
          <i class="bi bi-list-task"></i>
          <span>All Assignments</span>
        </button>

        <button
          (click)="navigate('assignments/pending')"
          class="flex items-center gap-2 px-4 py-2 rounded-lg transition border border-transparent
                 hover:border-yellow-500 hover:text-yellow-400
                 dark:hover:border-yellow-500 dark:hover:text-yellow-600"
        >
          <i class="bi bi-hourglass-split"></i>
          <span>Pending</span>
        </button>

        <button
          (click)="navigate('assignments/submitted')"
          class="flex items-center gap-2 px-4 py-2 rounded-lg transition border border-transparent
                 hover:border-blue-500 hover:text-blue-400
                 dark:hover:border-blue-500 dark:hover:text-blue-600"
        >
          <i class="bi bi-check2-circle"></i>
          <span>Submitted</span>
        </button>

        <button
          (click)="navigate('assignments/graded')"
          class="flex items-center gap-2 px-4 py-2 rounded-lg transition border border-transparent
                 hover:border-green-500 hover:text-green-400
                 dark:hover:border-green-500 dark:hover:text-green-600"
        >
          <i class="bi bi-award"></i>
          <span>Graded</span>
        </button>
      </nav>

      <!-- Page Title -->
      <h1 class="text-2xl font-bold mb-6 flex items-center gap-2 text-cyan-400 dark:text-blue-600">
        <i class="bi bi-journal-check"></i> Student Assignments
      </h1>

      <!-- Assignments Grid -->
      <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
        <div
          *ngFor="let assignment of assignments"
          class="rounded-2xl shadow-md p-5 hover:border-cyan-500 transition flex flex-col border
                 bg-neutral-800 border-neutral-700
                 dark:bg-white dark:border-gray-300"
        >
          <!-- Header -->
          <div class="flex items-center justify-between mb-3">
            <div class="flex items-center gap-2">
              <i class="bi bi-file-earmark-text text-2xl text-cyan-400 dark:text-blue-600"></i>
              <h2 class="text-lg font-semibold">{{ assignment.title }}</h2>
            </div>
            <span
              class="px-2 py-1 rounded text-xs"
              [ngClass]="{
                'bg-yellow-500/20 text-yellow-400': assignment.status === 'Pending',
                'bg-blue-500/20 text-blue-400': assignment.status === 'Submitted',
                'bg-green-500/20 text-green-400': assignment.status === 'Graded',
                'dark:bg-yellow-500/20 dark:text-yellow-600': assignment.status === 'Pending',
                'dark:bg-blue-500/20 dark:text-blue-600': assignment.status === 'Submitted',
                'dark:bg-green-500/20 dark:text-green-600': assignment.status === 'Graded'
              }"
            >
              {{ assignment.status }}
            </span>
          </div>

          <!-- Description -->
          <p class="text-sm flex-1 mb-4 text-neutral-400 dark:text-gray-600">
            {{ assignment.description }}
          </p>

          <!-- Footer -->
          <div class="flex justify-between items-center text-sm text-neutral-400 dark:text-gray-600">
            <span><i class="bi bi-calendar"></i> Due: {{ assignment.dueDate }}</span>
            <span><i class="bi bi-clock"></i> {{ assignment.timeLeft }}</span>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
