<div class="flex flex-col min-h-screen bg-neutral-900 dark:bg-gray-100 text-white dark:text-gray-900 relative">
  <!-- Header -->
  <app-header (toggleSidebar)="sidebar.toggleSidebar()"></app-header>

  <div class="flex flex-1 relative">
    <!-- Sidebar -->
    <app-sidebar #sidebar></app-sidebar>

    <!-- Main Content -->
    <main
      class="flex-1 bg-neutral-900 text-white dark:bg-white dark:text-neutral-900 p-8 transition-all duration-300 overflow-y-auto relative"
    >
    <h1 class="text-3xl font-bold mb-8 flex items-center gap-3 text-cyan-400 dark:text-blue-600 relative z-50">
  <i class="bi bi-person-circle"></i> Student Profile
</h1>

<!-- Loader (Overlay, excluding h1) -->
<div *ngIf="loading" 
     class="absolute left-0 right-0 top-[5rem] bottom-0 bg-opacity-10 backdrop-blur-xs flex justify-center items-center z-40">
  <div class="animate-spin rounded-full h-12 w-12 border-t-4 border-cyan-500 border-solid"></div>
</div>


      <div class="max-w-3xl mx-auto bg-neutral-800 dark:bg-white border border-neutral-700 dark:border-gray-300 rounded-3xl shadow-xl p-8">
        <!-- Avatar -->
        <div class="flex flex-col items-center mb-8 relative">
          <img [src]="profile.avatar || 'assets/default-avatar.png'" 
               alt="Avatar"
               class="w-32 h-32 rounded-full border-4 border-cyan-500 shadow-lg object-cover transition-transform duration-200 hover:scale-105"/>

          <label class="absolute bottom-0 right-0 bg-cyan-500 hover:bg-cyan-600 p-2 rounded-full cursor-pointer shadow-md">
            <i class="bi bi-camera text-white"></i>
            <input type="file" accept="image/*" (change)="onFileSelected($event)" class="hidden"/>
          </label>

          <div class="mt-4 flex flex-col items-center gap-1 w-full">
            <input [(ngModel)]="profile.name" name="name" disabled
                   class="bg-neutral-900 dark:bg-gray-100 text-white dark:text-gray-900 font-semibold text-xl rounded px-3 py-2 w-full text-center"/>
            <input [(ngModel)]="profile.email" name="email" disabled
                   class="bg-neutral-800 dark:bg-gray-200 text-neutral-300 dark:text-gray-700 rounded px-3 py-1 w-full text-center text-sm"/>
          </div>
        </div>

        <!-- Editable Info -->
        <div class="grid sm:grid-cols-2 gap-6 mb-6">
          <div class="flex flex-col">
            <label>College</label>
            <input [(ngModel)]="profile.college" name="college" 
                   class="rounded-lg px-3 py-2 bg-neutral-700 dark:bg-gray-200 text-white dark:text-gray-900"/>
          </div>

          <div class="flex flex-col">
            <label>Course</label>
            <select [(ngModel)]="profile.course" name="course" 
                    class="rounded-lg px-3 py-2 bg-neutral-700 dark:bg-gray-200 text-white dark:text-gray-900">
              <option [ngValue]="undefined">Select Course</option>
              <option>B.Tech</option>
              <option>M.Tech</option>
              <option>B.Sc</option>
              <option>M.Sc</option>
              <option>MBA</option>
            </select>
          </div>

          <div class="flex flex-col">
            <label>Year</label>
            <select [(ngModel)]="profile.year" name="year" 
                    class="rounded-lg px-3 py-2 bg-neutral-700 dark:bg-gray-200 text-white dark:text-gray-900">
              <option [ngValue]="undefined">Select Year</option>
              <option>1st Year</option>
              <option>2nd Year</option>
              <option>3rd Year</option>
              <option>4th Year</option>
              <option>Graduate</option>
            </select>
          </div>

          <div class="flex flex-col">
            <label>Phone</label>
            <input [(ngModel)]="profile.phone" name="phone" 
                   class="rounded-lg px-3 py-2 bg-neutral-700 dark:bg-gray-200 text-white dark:text-gray-900"/>
          </div>

          <div class="flex flex-col">
            <label>Location</label>
            <input [(ngModel)]="profile.location" name="location" disabled 
                   class="rounded-lg px-3 py-2 bg-neutral-700 dark:bg-gray-200 text-white dark:text-gray-900"/>
          </div>

          <div class="flex flex-col">
            <label>Gender</label>
            <input [(ngModel)]="profile.gender" name="gender" disabled 
                   class="rounded-lg px-3 py-2 bg-neutral-700 dark:bg-gray-200 text-white dark:text-gray-900"/>
          </div>
        </div>

        <div class="flex justify-center mt-6">
          <button (click)="saveProfile()" 
                  class="px-8 py-2 bg-cyan-500 hover:bg-cyan-600 rounded-xl text-white dark:text-black font-semibold shadow-lg">
            Save Changes
          </button>
        </div>

      </div>
    </main>
  </div>
</div>
